# 120、为了满足分布式系统的需求，ZooKeeper的架构设计有哪些特点？

![分布式协调和通知](/docs/03/images/120/01.png)

为了实现需要的一些特性，ZooKeeper的架构设计需要有哪些特点？

 

集群化部署：3~5台机器组成一个集群，每台机器都在内存保存了zk的全部数据，机器之间互相通信同步数据，客户端连接任何一台机器都可以

 

树形结构的数据模型：znode，树形结构，数据模型简单，纯内存保存

 

数据结构就跟我们的文件系统是类似的，是有层级关系的树形的文件系统的数据结构

 

znode可以认为是一个节点而已

 

create /usr/local/uid

create /usr/local/test_file

 

uid：可以写入一些数据的值，比如说hello world

test_file：也可以写入一些数据的值

 

顺序写：集群中只有一台机器可以写，所有机器都可以读，所有写请求都会分配一个zk集群全局的唯一递增编号，zxid，保证各种客户端发起的写请求都是有顺序的

 

数据一致性：任何一台zk机器收到了写请求之后都会同步给其他机器，保证数据的强一致，你连接到任何一台zk机器看到的数据都是一致的

 

高性能：每台zk机器都在内存维护数据，所以zk集群绝对是高并发高性能的，如果你让zk部署在高配置物理机上，一个3台机器的zk集群抗下每秒几万请求没有问题

 

高可用：哪怕集群中挂掉不超过一半的机器，都能保证可用，数据不会丢失，3台机器可以挂1台，5台机器可以挂2台

 

高并发：高性能决定的，只要基于纯内存数据结构来处理，并发能力是很高的，只有一台机器进行写，但是高配置的物理机，比如16核32G，写入几万QPS，读，所有机器都可以读，3台机器的话，起码可以支撑十几万QPS
